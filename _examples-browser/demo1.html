<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo 1</title>

    <link rel="stylesheet" href="./style.css">
    <script defer src="console_log-to-html.js"></script>

    <!-- The all code of CryptoJS 3.3.0 -->
<!--    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/crypto-js.min.js"-->
<!--            integrity="sha512-e2c+O0PvytekkdJLc82DHfa6La8TPKzO2/DFA97YeHTbiDCwKMzloupJM6Llf/W4K19+N21gFyplVkvzL4pZxQ=="-->
<!--            crossorigin="anonymous"></script>-->

    <!-- Or else only required dependencies, MD5 dependency is no needed. -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/core.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/cipher-core.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/aes.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/pad-nopadding.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.3.0/pad-zeropadding.min.js"></script>


    <script defer src="../dist/mega.pure.js"></script>
    <script type="module"> // Note: `type="module"` === `defer` attribute

        // It requires to comment the dependency import and use the "special" exports in `browser-context.js`:
        // import * as Mega from "../src/mega.js";

        import * as URLS from "../_examples-node/test-urls.js";
        // "https://mega.nz/folder/e1ogxQ7T#ee4Q_ocD1bSLmNeg9B6kBw"
        // "https://mega.nz/file/bkwkHC7D#AWJuto8_fhleAI2WG0RvACtKkL_s9tAtvBXXDUp2bQk"

        async function example() {
            console.log(`Requesting:\n${URLS.CAT_FILE_IMAGE}`);
            const node = await Mega.node(URLS.CAT_FILE_IMAGE);
            console.log("[node-from-file]", node);

            console.log(`Requesting:\n${URLS.CAT_FOLDER}`);
            const nodesFromFolder = await Mega.nodes(URLS.CAT_FOLDER);
            console.log("[root-node]", nodesFromFolder.root);
            console.log("[nodes-from-folder]", nodesFromFolder);
        }

        !async function main() {
            console.time("Time");
            await example();
            console.timeEnd("Time");
        }();
    </script>

</head>
<body>
    <div class="wrapper">
        <h1>The example 1</h1>
        <div class="line">It uses "../dist/mega.pure.js" with CryptoJS (only needed parts) that is loaded from CDN.</div>
        <div class="line">And it runs some example code.</div>
        <hr>
        <div id="console_log-to-html"></div>
    </div>
</body>
</html>
